# Generated by Django 5.1.4 on 2025-01-23 08:17

import django.db.models.deletion
import django.utils.timezone
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('administrateur', '0009_formateur_competence'),
    ]

    operations = [
        migrations.CreateModel(
            name='FactureNonInscrit',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('id_createur', models.IntegerField(blank=True, null=True)),
                ('nom', models.CharField(blank=True, max_length=100)),
                ('prenom', models.CharField(blank=True, max_length=100)),
                ('nom_entreprise', models.CharField(blank=True, max_length=100, null=True)),
                ('adresse_entreprise', models.CharField(blank=True, max_length=100, null=True)),
                ('date_creation', models.DateField(blank=True, null=True)),
                ('contact', models.CharField(blank=True, max_length=50)),
                ('nif', models.CharField(blank=True, max_length=50, null=True)),
                ('stat', models.CharField(blank=True, max_length=50, null=True)),
                ('rcs', models.CharField(blank=True, max_length=50, null=True)),
                ('cnaps', models.CharField(blank=True, max_length=150, null=True)),
                ('lieu_formation', models.CharField(max_length=150)),
                ('nbr_location_pc', models.IntegerField(blank=True, default=0, null=True)),
                ('pu_pc', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('nbr_frais_transport', models.FloatField(blank=True, null=True)),
                ('pu_transport', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('nbr_frais_restauration', models.FloatField(blank=True, null=True)),
                ('pu_restauration', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('hebergement', models.FloatField(blank=True, null=True)),
                ('pu_hebergement', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('date_creation_pf', models.DateField(auto_now_add=True)),
                ('cout_total', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
            ],
            options={
                'verbose_name': 'FactureNonInscrit',
                'verbose_name_plural': 'FactureNonInscripts',
                'db_table': 'facture_non_inscrit',
                'ordering': ['id', 'date_creation_pf'],
            },
        ),
        migrations.CreateModel(
            name='ProformaNonInscrit',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('id_createur', models.IntegerField(blank=True, null=True)),
                ('nom', models.CharField(blank=True, max_length=100)),
                ('prenom', models.CharField(blank=True, max_length=100)),
                ('nom_entreprise', models.CharField(blank=True, max_length=100, null=True)),
                ('adresse_entreprise', models.CharField(blank=True, max_length=100, null=True)),
                ('date_creation', models.DateField(blank=True, null=True)),
                ('contact', models.CharField(blank=True, max_length=50)),
                ('nif', models.CharField(blank=True, max_length=50, null=True)),
                ('stat', models.CharField(blank=True, max_length=50, null=True)),
                ('rcs', models.CharField(blank=True, max_length=50, null=True)),
                ('cnaps', models.CharField(blank=True, max_length=150, null=True)),
                ('lieu_formation', models.CharField(max_length=150)),
                ('nbr_location_pc', models.IntegerField(blank=True, default=0, null=True)),
                ('pu_pc', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('nbr_frais_transport', models.FloatField(blank=True, null=True)),
                ('pu_transport', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('nbr_frais_restauration', models.FloatField(blank=True, null=True)),
                ('pu_restauration', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('hebergement', models.FloatField(blank=True, null=True)),
                ('pu_hebergement', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('date_creation_pf', models.DateField(auto_now_add=True)),
                ('cout_total', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
            ],
            options={
                'verbose_name': 'Proforma pour les non-inscrit',
                'verbose_name_plural': 'Proformas des non-inscripts',
                'db_table': 'proforma_non_inscrit',
                'ordering': ['id', 'date_creation_pf'],
            },
        ),
        migrations.AlterField(
            model_name='formateur_competence',
            name='idformateur',
            field=models.ForeignKey(limit_choices_to={'role_utilisateur': 3, 'type_utilisateur': 1}, on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL),
        ),
        migrations.CreateModel(
            name='FactureInscrit',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('id_createur', models.IntegerField(blank=True, null=True)),
                ('lieu_formation', models.CharField(max_length=150)),
                ('nbr_location_pc', models.IntegerField(blank=True, default=0, null=True)),
                ('pu_pc', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('nbr_frais_transport', models.FloatField(blank=True, null=True)),
                ('pu_transport', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('nbr_frais_restauration', models.FloatField(blank=True, null=True)),
                ('pu_restauration', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('hebergement', models.FloatField(blank=True, null=True)),
                ('pu_hebergement', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('date_creation', models.DateField(default=django.utils.timezone.now)),
                ('cout_total', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('reduction', models.FloatField()),
                ('idclient', models.ForeignKey(limit_choices_to={'type_utilisateur': 2}, on_delete=django.db.models.deletion.CASCADE, related_name='FactureClient', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'FactureInscrit',
                'verbose_name_plural': 'FactureInscripts',
                'db_table': 'facture_inscrit',
                'ordering': ['id', 'date_creation'],
            },
        ),
        migrations.CreateModel(
            name='FactureDetails',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('prix_unitaire', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('quantite', models.IntegerField()),
                ('idmodule', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='facture_modules', to='administrateur.module')),
                ('facture_inscrit', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='administrateur.factureinscrit')),
                ('facture_non_inscrit', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='administrateur.facturenoninscrit')),
            ],
            options={
                'verbose_name': 'FactureDetail',
                'verbose_name_plural': 'FactureDetails',
                'db_table': 'facture_detail',
            },
        ),
        migrations.CreateModel(
            name='ProformaInscrit',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('id_createur', models.IntegerField(blank=True, null=True)),
                ('lieu_formation', models.CharField(max_length=150)),
                ('nbr_location_pc', models.IntegerField(blank=True, default=0, null=True)),
                ('pu_pc', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('nbr_frais_transport', models.FloatField(blank=True, null=True)),
                ('pu_transport', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('nbr_frais_restauration', models.FloatField(blank=True, null=True)),
                ('pu_restauration', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('hebergement', models.FloatField(blank=True, null=True)),
                ('pu_hebergement', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('date_creation', models.DateField(default=django.utils.timezone.now)),
                ('cout_total', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('facture', models.IntegerField(blank=True, null=True)),
                ('etat', models.IntegerField(choices=[(0, 'Non facturé'), (1, 'Facturé')], default=0)),
                ('reduction', models.FloatField(blank=True, null=True)),
                ('idclient', models.ForeignKey(limit_choices_to={'type_utilisateur': 2}, on_delete=django.db.models.deletion.CASCADE, related_name='ProformaClient', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Proforma des inscrits',
                'verbose_name_plural': 'Proformas des inscripts',
                'db_table': 'proforma_inscrit',
                'ordering': ['id', 'date_creation'],
            },
        ),
        migrations.CreateModel(
            name='ProformaDetails',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('prix_unitaire', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('quantite', models.IntegerField()),
                ('duree_seance', models.FloatField(blank=True, null=True)),
                ('nbr_seance', models.IntegerField(blank=True, null=True)),
                ('idmodule', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='proforma_modules', to='administrateur.module')),
                ('proforma_inscrit', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='administrateur.proformainscrit')),
                ('proforma_non_inscrit', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='details', to='administrateur.proformanoninscrit')),
            ],
            options={
                'verbose_name': 'Proforma Detail',
                'verbose_name_plural': 'Proforma Details',
                'db_table': 'proforma_detail',
            },
        ),
    ]
